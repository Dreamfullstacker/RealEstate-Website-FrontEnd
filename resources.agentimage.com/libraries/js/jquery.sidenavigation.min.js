!function(){jQuery.fn.sideNavigation=function(e){!function(e,t){var s=jQuery(e);function n(e){return jQuery(e).length>0}if(t=jQuery.extend({sectionClass:"aios-scroll-section",sectionAttrTitle:"data-aios-scroll-title",skipSectionId:"",navSectionClass:"aios-section-nav",navSectionAppend:'<li class="{{scroll-id}}"><span class="scroll-section-title">{{scroll-title}}</span><a href="{{scroll-id}}" class="scroll-section-dot"><em style="font-size: 0 !important;">{{scroll-title}}</em></a></li>',navLinkId:"aios-scroll-id-",navArrow:!1,navArrowPrev:'<span class="aios-scroll-arrow aios-scroll-prev"></span>',navArrowNext:'<span class="aios-scroll-arrow aios-scroll-next"></span>',hasHeaderFix:!1,headerFixElement:".header",scrollSpeed:1500},t),!n(e))return console.log("Main element doesn't exists"),!1;if(!n("."+t.sectionClass))return console.log("Section element doesn't exists"),!1;if(!n("."+t.navSectionClass))return console.log("Section nav element doesn't exists"),!1;jQuery("."+t.sectionClass).each(function(s,n){var o,r=jQuery(n).attr("id"),a=jQuery(n).attr(t.sectionAttrTitle);if(o=(o=(o=(o=t.navSectionAppend).replace(/class\=\"\{\{scroll\-id\}\}\"/g,'class="'+t.navLinkId+r+'"')).replace(/\{\{scroll\-title\}\}/g,a)).replace(/\{\{scroll\-id\}\}/g,"#"+r),null==r||""==r||null==a||""==a)return console.log('All sections must have an ID and Title(Use attr "'+t.sectionAttrTitle+'").'),e.remove(),!1;t.skipSectionId!=r&&jQuery("."+t.navSectionClass).append(o)}),t.navArrow&&(jQuery("."+t.navSectionClass).before(t.navArrowPrev),jQuery("."+t.navSectionClass).after(t.navArrowNext));var o=jQuery("."+t.sectionClass).first().attr("id");function r(){var e=jQuery(window).scrollTop(),n=jQuery(window).height();jQuery("."+t.sectionClass).each(function(o,r){var l=jQuery(r).attr("id"),i=jQuery(r).offset().top-n/2,c=jQuery(r).offset().top+jQuery(r).height()-n/2,u=jQuery(r).prevAll(t.sectionClass),v=jQuery(r).nextAll(t.sectionClass),d=e+n==jQuery(document).height();if(i<e&&c>e||d){if(null!=v.attr(t.sectionAttrTitle)?(a(u)&&null!=u.attr(t.sectionAttrTitle)&&(l=u.attr("id")),a(v)&&v.attr("id")==lastSectionClassId&&d&&(l=lastSectionClassId)):d&&(l=lastSectionClassId),null!=s.attr("class")){for(var y=s.attr("class").split(" "),f=[],o=0;o<y.length;o++){var p=y[o].search(/nav-active-section-/);p&&(f[f.length]=y[o])}s.removeClass().addClass(f.join(" "))}s.addClass("vertical-nav-active nav-active-section-"+l),jQuery("body").attr("sidebar-active-section",l),t.skipSectionId==l&&s.removeClass("vertical-nav-active"),jQuery("."+t.navSectionClass+" *[class*="+t.navLinkId+"]").removeClass("nav-active-section"),jQuery("."+t.navSectionClass+" ."+t.navLinkId+l).addClass("nav-active-section")}})}function a(e){var t=e.offset(),s=e.outerHeight(),n=jQuery(window).scrollTop(),o=n+jQuery(window).height(),r=t.top+s;return t.top>=n&&r<=o}lastSectionClassId=jQuery("."+t.sectionClass).last().attr("id"),r(),jQuery(window).on("scroll resize",function(){r()});var l=jQuery("html, body");function i(e){var s=jQuery(e).offset().top;if(l.bind("scroll mousedown DOMMouseScroll mousewheel keyup",function(e){(e.which>0||"mousedown"===e.type||"mousewheel"===e.type)&&l.stop().unbind("scroll mousedown DOMMouseScroll mousewheel keyup")}),t.hasHeaderFix){var n=jQuery(t.headerFixElement).outerHeight(!0);l.animate({scrollTop:s-n},t.scrollSpeed)}else l.animate({scrollTop:s},t.scrollSpeed)}jQuery("."+t.navSectionClass+" *[class*="+t.navLinkId+"] a").addClass("scroll-to-section"),jQuery(document).on("click",".scroll-to-section",function(e){e.preventDefault();var t=jQuery(e.currentTarget).attr("href");return i(t),!1}),jQuery(document).on("click",".aios-scroll-prev",function(e){e.preventDefault();var t=jQuery(".nav-active-section").prev().find("a.scroll-to-section").attr("href");return t!=o&&i(t),!1}),jQuery(document).on("click",".aios-scroll-next",function(e){e.preventDefault();var t=jQuery(".nav-active-section").next().find("a.scroll-to-section").attr("href");return t!=o&&i(t),!1})}(jQuery(this),e)}}();